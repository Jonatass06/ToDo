<body>
  <div style="display:block; text-align:center;">
    <div style="display: flex; align-items: center; justify-content: center;">
      <input id="pesquisa" placeholder="üîç Pesquisa" type="text" [(ngModel)]="pesquisa" (keyup)="pesquisar()">
      <button *ngIf="!cadastro" (click)="cadastrar()" class="cadastroBotao">+</button>
      <button *ngIf="cadastro" (click)="cadastrar()" class="cadastroBotao">-</button>
    </div>
    <div id="cadastro" *ngIf="cadastro">
      <div style="display: flex; align-items: center; justify-content: center;">
        <input placeholder="T√≠tulo" [(ngModel)]="tarefa.titulo" id="titulo">
        <select required [(ngModel)]="tarefa.categoria" id="categoria">
          <option value="" disabled selected>--Categoria--</option>
          <option *ngFor="let Categoria of categorias" [value]="Categoria.nome">{{Categoria.nome}}</option>
        </select>
        <button (click)="CadastrarTarefa()" id="enviar">Cadastrar</button>
      </div>
      <textarea (input)="tamanhoTextArea()" placeholder="Descri√ß√£o" [(ngModel)]="tarefa.texto"
        id="descricao"></textarea>
    </div>
    <div id="divPai">

      <div id="scrollBar">

        <div style="transform: rotateX(180deg); display: flex; align-items:stretch; height: 100%;">

          <div *ngFor="let Categoria of categorias; index as indiceCat" [style.background-color]="Categoria.cor"
            style="flex: 1; display: flex; align-items:baseline; margin-right: 0.1vw;"
            [style.color]="contraste(Categoria.cor)">
            <div *ngIf="pesquisa==''">
              <div class="colunas">
                <div class="colunas2">
                  <div style="display: flex; justify-content: center;">
                    <h2>{{Categoria.nome}}</h2>
                  </div>

                  <div *ngFor="let Tarefa of Tarefas; index as indice"s>
                    <div *ngIf="Tarefa.categoria == Categoria.nome" class="caixaTarefa"
                      [style.border-color]="contraste(Categoria.cor)" [style.color]="contraste(Categoria.cor)">
                      <textarea [(ngModel)]="Tarefa.titulo" class="textA" [style.background-color]="Categoria.cor"
                        [style.color]="contraste(Categoria.cor)" (input)="tamanhoTextArea(); muda()"
                        style="font-size: 1em; text-align: center; font-weight: bold;"></textarea>
                      <textarea class="textA" (input)="tamanhoTextArea(); muda()"
                        [style.background-color]="Categoria.cor" [style.color]="contraste(Categoria.cor)"
                        [(ngModel)]="Tarefa.texto">
                      </textarea>

                      <div class="opcoes">
                        <select [(ngModel)]="Tarefa.categoria" (change)="muda()" id="trocaCat"
                          [style.color]="contraste(Categoria.cor)" [style.border-color]="contraste(Categoria.cor)">
                          <option style="background-color: var(--cor-fundo);" *ngFor="let Categoria of categorias"
                            [value]="Categoria.nome">{{Categoria.nome}}
                          </option>
                        </select>
                        <button (click)="Del(indice)" id="trocaCatB"
                          [style.border-color]="contraste(Categoria.cor)">üóëÔ∏è</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="pesquisa!=''">
              <div class="colunas">
                <div class="colunas2">
                  <h2>{{ Categoria.nome }}</h2>
                  <div *ngFor="let pesquisas of listaPesquisa">
                    <div *ngIf="pesquisas.categoria == Categoria.nome" class="caixaTarefa">
                      <textarea class="textA" [(ngModel)]="pesquisas.titulo" [style.background-color]="Categoria.cor"
                        [style.color]="contraste(Categoria.cor)" (input)="tamanhoTextArea(); muda()"
                        style="font-size: 1em; text-align: center; font-weight: bold;"></textarea>
                      <textarea class="textA" (input)="tamanhoTextArea(); muda()"
                        [style.background-color]="Categoria.cor" [style.color]="contraste(Categoria.cor)"
                        [(ngModel)]="pesquisas.texto">
                      </textarea>

                      <div class="opcoes">
                        <select [(ngModel)]="pesquisas.categoria" (change)="muda()" id="trocaCat"
                        [style.color]="contraste(Categoria.cor)" [style.border-color]="contraste(Categoria.cor)">
                          <option style="background-color: var(--cor-fundo);" *ngFor="let Categoria of categorias" 
                          [value]="Categoria.nome">{{Categoria.nome}}
                          </option>
                        </select>
                        <button (click)="Del(indice)" id="trocaCatB"
                        [style.border-color]="contraste(Categoria.cor)">üóëÔ∏è</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
{{tamanhoTextArea()}}